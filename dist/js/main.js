"use strict";var countrySelect=document.querySelector("#countrySelect"),competitionSelect=document.querySelector("#competitionSelect"),countryID=void 0,countries=[],competitions=[],standings=[],selectedCountry=void 0,selectedCompetition=void 0,noOptions=[],statusCode=void 0,table=document.querySelector("#scoreboardTable"),tableHeaders=["Position","Team","Games Played","Won","Draw","Lost","Goal Difference","Points"];function addTableHeaders(){var e=document.createElement("THEAD"),o=document.createElement("TR");table.append(e),e.append(o),tableHeaders.forEach(function(e){var t=document.createElement("TH");t.setAttribute("scope","col");var n=document.createTextNode(e);t.append(n),o.append(t)}),Array.from(document.querySelectorAll("th")).slice(2,7).forEach(function(e){e.classList.add("d-none","d-lg-table-cell")})}function addClasses(e){e.classList.add("d-none","d-lg-block","d-xl-none")}function displayError(e,t,n){var o=document.getElementById(e);o.innerHTML="";var a=document.createElement("DIV");a.innerHTML="<h3>"+t+": "+n+"</h3>",a.classList.add("container-fluid","errorMessage","text-center"),o.append(a)}$(document).ready(function(){$("#errorDiv").hide(),$.ajax({headers:{"X-Auth-Token":"d565497f7275426097c945923bac37d9"},url:"http://api.football-data.org/v2/areas",dataType:"json",type:"GET"}).done(function(e){e.areas.forEach(function(e){var t=e.name,n=e.id,o=document.createElement("OPTION");o.innerText=t,o.setAttribute("value",n),countrySelect.appendChild(o)})}),$.ajax({headers:{"X-Auth-Token":"d565497f7275426097c945923bac37d9"},url:"http://api.football-data.org/v2/competitions",dataType:"json",type:"GET"}).done(function(e){(competitions=e.competitions).forEach(function(e){var t=e.name,n=e.area.id,o=e.id,a=document.createElement("OPTION");a.innerText=t,a.setAttribute("value",n),a.setAttribute("competitionID",o),competitionSelect.appendChild(a)})}),$("#countrySelect").change(function(){selectedCountry=countrySelect.options[countrySelect.selectedIndex].text,countryID=$("#countrySelect").val(),noOptions=[];for(var e=0;e<competitionSelect.options.length;e++)this.classList.remove("display_none","display_this"),this.value!==countryID?this.classList.add("display_none"):this.classList.add("display_this");$("#competitionSelect > option").each(function(){noOptions.push(this.classList.contains("display_this"))}),!1===-1<noOptions.indexOf(!0)?($("#competitionSelect").prop("disabled","disabled"),$("#competitionSelect option:selected ").text("No Info For This Country"),table.innerHTML=""):($("#competitionSelect").prop("disabled",!1),$("#competitionSelect option:selected ").text("Select A Competition"))}),$("#competitionSelect").change(function(){selectedCompetition=$("option:selected",this).attr("competitionID"),table.innerHTML="",$.ajax({headers:{"X-Auth-Token":"d565497f7275426097c945923bac37d9"},url:"http://api.football-data.org/v2/competitions/"+selectedCompetition+"/standings",dataType:"json",type:"GET",success:function(e,t,n){$("#errorDiv").hide()}}).done(function(e){standings=e.standings[0].table,addTableHeaders();var E=document.createElement("TBODY");table.append(E),standings.forEach(function(e){var t=document.createElement("TR");E.append(t);var n=document.createElement("TH");n.setAttribute("scope","row");var o=document.createElement("TD"),a=document.createElement("IMG"),d=document.createElement("TD"),c=document.createElement("TD"),i=document.createElement("TD"),r=document.createElement("TD"),s=document.createElement("TD"),l=document.createElement("TD"),p=document.createTextNode(e.position);a.setAttribute("src",e.team.crestUrl);var u=document.createTextNode(e.team.name),m=document.createTextNode(e.playedGames),h=document.createTextNode(e.won),f=document.createTextNode(e.draw),T=document.createTextNode(e.lost),y=document.createTextNode(e.points),b=document.createTextNode(e.goalDifference);n.appendChild(p),o.appendChild(a),o.appendChild(u),o.classList.add("teamName","ml-lg-5"),d.appendChild(m),c.appendChild(h),i.appendChild(f),r.appendChild(T),s.appendChild(b),l.appendChild(y),t.append(n),t.append(o),t.append(d),t.append(c),t.append(i),t.append(r),t.append(s),t.append(l),Array.from(t.childNodes).slice(2,7).forEach(function(e){e.classList.add("d-none","d-lg-table-cell")})})}),$(window).resize(function(){$(window).width()<=990?$(".teamName").addClass("tableMobile"):$(".teamName").removeClass("tableMobile")}),$(document).ajaxError(function(e,t,n,o){statusCode=t.status,$("#errorDiv").show(),403===statusCode||404===statusCode?displayError("errorDiv",statusCode,"No information on this competition"):429!==statusCode&&0!==statusCode||displayError("errorDiv","Error","Number of requests exceeded, please wait for a minute and try again")})})});